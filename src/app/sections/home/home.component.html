
<div cdkDropListGroup>
  @if (store.isLoading()) {
    <div class="loading-screen">
      <div class="loading-spinner">
        <div class="spinner"></div>
        <h3>Loading Dashboard...</h3>
        <p>Please wait while we load your widgets</p>
      </div>
    </div>
  } @else if (store.addedWidgets().length > 0) {
    <div #dashboard class="dashboard-widgets">
      @for (w of store.addedWidgets(); track w.id) {
        <app-widget cdkDropList [data]="w" mode="view" (cdkDropListDropped)="drop($event)" [cdkDropListData]="w.id" cdkDropListDisabled cdkDropListSortingDisabled>
          <div *cdkDragPlaceholder class="drop-placeholder">
            <mat-icon>swap_horiz</mat-icon>
            <span>Drop here to replace</span>
          </div>
        </app-widget>
      }
      <div cdkDropList></div>
    </div>
  } @else {
    <div #dashboard class="dashboard-widgets">
      <div class="empty-state">
        <mat-icon>dashboard</mat-icon>
        <h3>No widgets to display</h3>
        <p>No dashboard template is currently published</p>
      </div>
    </div>
  }

  <app-chart-settings #chartSettings></app-chart-settings>
  <app-confirmation-dialog></app-confirmation-dialog>
  <app-theme-settings #themeSettings></app-theme-settings>
</div>
